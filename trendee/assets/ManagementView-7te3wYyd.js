import{d as $,u as E,m as T,r as V,n as D,c as I,a as e,b as a,g as n,o as g,h as u,i as h,j as m,t as w,p as y,q as k,e as L}from"./index-BRMU4BMD.js";const R={class:"dialog-footer"},b="140px",O=$({__name:"ManagementView",setup(z){const{t:_}=E(),v=T(),r=V(!1),l=D({id:0,brand:"",url:"",user:"",pass:""}),i=V([{id:1,brand:"Temu",url:"https://www.temu.com/high-waist-straight-camouflage-cargo-jeans-camo-print-medium-stretch-side-flap-pocket-high--denim-pants-womens-denim-jeans-clothing-g-601099518345686.html?&top_gallery_url=https%3A%2F%2Fimg.kwcdn.com%2Fproduct%2FFancyalgo%2FVirtualModelMatting%2Fdfaaca674aa4c5066b06218759efea65.jpg&spec_id=16066&spec_gallery_id=446&refer_page_sn=1114&refer_source=0&freesia_scene=114&_oak_freesia_scene=114&_oak_rec_ext_1=MTQ4NA&spec_ids=16066&refer_page_el_sn=201345&refer_page_name=best_sellers&refer_page_id=1114_1709795820365_opkgwsrccy&_x_enter_scene_type=cate_tab",user:"",pass:""},{id:2,brand:"Shein",url:"https://us.shein.com/SHEIN-LUNE-Solid-Cold-Shoulder-Split-Sleeve-Popover-Blouse-p-20251559-cat-1733.html",user:"***",pass:""}]),x=s=>{i.value.splice(s,1)},C=()=>{r.value=!0,Object.assign(l,{id:0,brand:"",url:"",user:"",pass:""})},F=s=>{r.value=!0,Object.assign(l,{...i.value[s]})},S=()=>{r.value=!1;let s={...l,id:l.id?l.id:new Date().getTime(),user:l.user?"***":"",pass:l.pass?"***":""};if(l.id){let t=i.value.findIndex(d=>d.id===l.id);i.value.splice(t,1,s)}else i.value.push(s)};return(s,t)=>{const d=n("el-button"),U=n("el-col"),N=n("el-row"),p=n("el-table-column"),j=n("el-table"),c=n("el-input"),f=n("el-form-item"),B=n("el-form"),A=n("el-dialog");return g(),I("section",null,[e(N,null,{default:a(()=>[e(U,null,{default:a(()=>[u(v).isAdmin()?(g(),h(d,{key:0,type:"primary",onClick:C},{default:a(()=>[m(w(u(_)("manage.add")),1)]),_:1})):y("",!0)]),_:1})]),_:1}),e(j,{data:i.value,"max-height":"400","table-layout":"fixed","show-overflow-tooltip":""},{default:a(()=>[e(p,{type:"index",width:"50"}),e(p,{prop:"brand",label:"Brand"}),e(p,{prop:"url",label:"Url"}),e(p,{prop:"user",label:"User"}),u(v).isAdmin()?(g(),h(p,{key:0,label:u(_)("manage.operations"),width:"120"},{default:a(o=>[e(d,{link:"",type:"primary",size:"small",onClick:k(M=>F(o.$index),["prevent"])},{default:a(()=>[m(w(u(_)("manage.edit")),1)]),_:2},1032,["onClick"]),e(d,{link:"",type:"primary",size:"small",onClick:k(M=>x(o.$index),["prevent"])},{default:a(()=>[m(w(u(_)("manage.remove")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])):y("",!0)]),_:1},8,["data"]),e(A,{modelValue:r.value,"onUpdate:modelValue":t[5]||(t[5]=o=>r.value=o),title:l.id?"Edit source":"Add source",width:"500"},{footer:a(()=>[L("div",R,[e(d,{onClick:t[4]||(t[4]=o=>r.value=!1)},{default:a(()=>[m("Cancel")]),_:1}),e(d,{type:"primary",onClick:S},{default:a(()=>[m(" Confirm ")]),_:1})])]),default:a(()=>[e(B,{model:l},{default:a(()=>[e(f,{label:"brand","label-width":b},{default:a(()=>[e(c,{modelValue:l.brand,"onUpdate:modelValue":t[0]||(t[0]=o=>l.brand=o),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(f,{label:"url","label-width":b},{default:a(()=>[e(c,{modelValue:l.url,"onUpdate:modelValue":t[1]||(t[1]=o=>l.url=o),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(f,{label:"user","label-width":b},{default:a(()=>[e(c,{modelValue:l.user,"onUpdate:modelValue":t[2]||(t[2]=o=>l.user=o),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(f,{label:"pass","label-width":b},{default:a(()=>[e(c,{modelValue:l.pass,"onUpdate:modelValue":t[3]||(t[3]=o=>l.pass=o),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}});export{O as default};
