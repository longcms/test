import{d as y,u as F,r as h,n as f,c as x,a as l,b as r,g as d,o as C,h as u,j as c,t as g,E}from"./index-BRMU4BMD.js";const U=y({__name:"ChangePasswordView",setup(O){const{t:n}=F(),i=h(),_=(t,e,s)=>{if(e==="")return s(new Error("Please input the Original password"));s()},w=(t,e,s)=>{if(e==="")s(new Error("Please input the password"));else{if(o.checkPass!==""){if(!i.value)return;i.value.validateField("checkPass",()=>null)}s()}},b=(t,e,s)=>{e===""?s(new Error("Please input the password again")):e!==o.pass?s(new Error("Two inputs don't match!")):s()},o=f({pass:"",checkPass:"",original:""}),v=f({pass:[{validator:w,trigger:"blur"}],checkPass:[{validator:b,trigger:"blur"}],original:[{validator:_,trigger:"blur"}]}),P=t=>{t&&t.validate(e=>{if(e)console.log("submit!"),E({message:"Operation successful.",type:"success"}),t.resetFields();else return console.log("error submit!"),!1})},V=t=>{t&&t.resetFields()};return(t,e)=>{const s=d("el-input"),p=d("el-form-item"),m=d("el-button"),k=d("el-form");return C(),x("section",null,[l(k,{ref_key:"ruleFormRef",ref:i,style:{"max-width":"600px"},model:o,"status-icon":"",rules:v,"label-width":"auto",class:"demo-ruleForm"},{default:r(()=>[l(p,{label:u(n)("reset.original"),prop:"original"},{default:r(()=>[l(s,{modelValue:o.original,"onUpdate:modelValue":e[0]||(e[0]=a=>o.original=a),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),l(p,{label:u(n)("reset.pass"),prop:"pass"},{default:r(()=>[l(s,{modelValue:o.pass,"onUpdate:modelValue":e[1]||(e[1]=a=>o.pass=a),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),l(p,{label:u(n)("reset.confirm"),prop:"checkPass"},{default:r(()=>[l(s,{modelValue:o.checkPass,"onUpdate:modelValue":e[2]||(e[2]=a=>o.checkPass=a),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),l(p,{label:" "},{default:r(()=>[l(m,{type:"primary",onClick:e[3]||(e[3]=a=>P(i.value))},{default:r(()=>[c(g(u(n)("Submit")),1)]),_:1}),l(m,{onClick:e[4]||(e[4]=a=>V(i.value))},{default:r(()=>[c(g(u(n)("Reset")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}});export{U as default};
